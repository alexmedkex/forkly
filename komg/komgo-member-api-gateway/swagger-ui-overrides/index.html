<!DOCTYPE html>

<meta charset="UTF-8">
<title>Swagger API Documentation Catalog</title>
<link rel="stylesheet" type="text/css" href="./swagger-ui.css">
<link rel="icon" type="image/png" href="./favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="./favicon-16x16.png" sizes="16x16" />
<style>
    html {
        box-sizing: border-box;
        overflow: -moz-scrollbars-vertical;
        overflow-y: scroll;
    }

    *,
    *:before,
    *:after {
        box-sizing: inherit;
    }

    body {
        margin: 0;
        background: #fafafa;
    }

    .wrapper {
        margin-top: 20px !important;
    }
</style>


<div class="swagger-ui">
    <div class="wrapper">
        <section class="block col-12 block-desktop col-12-desktop">

            <div id="links"></div>

        </section>
    </div>
</div>


<script type="text/javascript">
    (function () {
        const apis = [
            { label: 'User & Role Management', route: 'users' },
            { label: 'Read Roles', route: 'roles' },
            { label: 'Registry', route: 'registry' },
            { label: 'Notifications & Tasks', route: 'notif' },
            { label: 'Documents', route: 'docs' },
            { label: 'Trade Cargo', route: 'trade-cargo' },
            { label: 'Trade Finance', route: 'trade-finance' },
            { label: 'Coverage', route: 'coverage' },
            { label: 'Signer', route: 'signer' },
            { label: 'Blockchain Signer', route: 'blockchain-signer' },
            { label: 'Receivable Finance', route: 'receivable-finance' },
            { label: 'Credit Lines', route: 'credit-lines' },
            { label: 'Template', route: 'template' }
        ]
        const links = document.getElementById('links')

        apis.forEach(api => {
            const div = document.createElement('div')
            const swaggerJsonUrl = `${window.location.origin}/api/${api.route}/swagger.json`
            div.innerHTML = `
        <a class="nostyle" href="swagger.html?url=${encodeURIComponent(swaggerJsonUrl)}&basePathPrefix=/api/${api.route}">
          <div class="opblock opblock-get">
            <div class="opblock-summary opblock-summary-get">
              <div class="opblock-summary-path">
                <span>${api.label}</span>
              </div>
            </div>
          </div>
        </a>`;
            links.appendChild(div)
        })
    }())
</script>